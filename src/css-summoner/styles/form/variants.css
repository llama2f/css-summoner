@layer components {
	/* 
   * @component: form
   * @variant: input
   * @description: テキスト入力フィールドのベーススタイル。テキスト、メール、番号、パスワードなどの入力に使用します。
   * @category: form-controls
   * @example: <input type="text" class="form-input theme-neutral" placeholder="入力してください">
   */
	.form-input,
	.form-select,
	.form-textarea {
		color: var(--neutral-dark);
		transition:
			border-color 0.2s ease-in-out,
			box-shadow 0.2s ease-in-out;
	}

	:root.dark {
		.form-input,
		.form-select,
		.form-textarea {
			color: var(--neutral-light);
		}
	}

	.form-input:focus,
	.form-select:focus,
	.form-textarea:focus {
		@apply outline-none ring-2 ring-offset-1;

		border-color: var(--component-hover-color, var(--component-color));
	}

	.form-input:disabled,
	.form-select:disabled,
	.form-textarea:disabled {
		@apply disabled:opacity-60 disabled:cursor-not-allowed;
	}

	/* 
   * @component: form
   * @variant: textarea
   * @description: 複数行テキスト入力フィールド。コメント、説明文など長文入力に使用します。
   * @category: form-controls
   * @example: <textarea class="form-textarea theme-neutral" placeholder="ご質問やご意見をお書きください"></textarea>
   */
	.form-textarea {
		min-height: 6rem;
		resize: vertical;
	}

	/* 
   * @component: form
   * @variant: select
   * @description: ドロップダウン選択フィールド。オプションから1つを選ぶ場合に使用します。
   * @category: form-controls
   * @example: <select class="form-select theme-neutral">
   *   <option>選択してください</option>
   *   <option>オプション1</option>
   *   <option>オプション2</option>
   * </select>
   */
	.form-select {
		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20' stroke='currentColor' %3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
		border-color: var(--neutral);
		background-position: right 0.75rem center;
		background-repeat: no-repeat;
		background-size: 1.25em 1.25em;
		-webkit-appearance: none;
		-moz-appearance: none;
		appearance: none;
		padding-right: 2.5rem;
		position: relative;
	}

	.form-select option {
		background-color: var(--form-input-bg-color, #7e7e7e);
	}

	:root.dark .form-select option {
		background-color: var(--neutral-dark, #7e7e7e);
	}

	/* 
   * @component: form
   * @variant: checkbox
   * @description: カスタムスタイルのチェックボックス。オン/オフの選択に使用します。
   * @category: form-controls
   * @example: <input type="checkbox" class="form-checkbox theme-neutral" id="terms">
   *   <label for="terms">利用規約に同意します</label>
   */
	.form-checkbox,
	.form-radio {
		width: 1.25rem;
		height: 1.25rem;
		appearance: none;
		-webkit-appearance: none;
		-moz-appearance: none;
	}

	.form-checkbox {
		border-radius: 0.25rem;
	}

	/* 
   * @component: form
   * @variant: radio
   * @description: カスタムスタイルのラジオボタン。複数の選択肢から1つを選ぶ場合に使用します。
   * @category: form-controls
   * @example: <input type="radio" class="form-radio theme-neutral" name="option" id="option1">
   *   <label for="option1">オプション1</label>
   */
	.form-radio {
		border-radius: 50%;
	}

	.form-radio:checked::after {
		content: '';
		position: absolute;
		display: block;
		background-color: white;
		top: 50%;
		left: 50%;
		width: 0.5rem;
		height: 0.5rem;
		border-radius: 50%;
		transform: translate(-50%, -50%);
	}

	/* 
   * @component: form
   * @variant: switch
   * @description: トグルスイッチコンポーネント。オン/オフの切り替えをビジュアル的に表現します。
   * @category: form-controls
   * @example: <div class="form-switch">
   *   <input type="checkbox" class="form-switch-input" id="darkmode">
   *   <label class="form-switch-label theme-neutral" for="darkmode"></label> <!-- theme-* を指定 -->
   * </div>
   */
	.form-switch {
		@apply relative inline-block align-middle;
		border: 0;
		background-color: transparent;
		width: 3rem;
		height: 1.5rem;
	}

	.form-switch-input {
		@apply sr-only;
	}

	.form-switch-label {
		@apply block h-full cursor-pointer rounded-full;

		background-color: var(--neutral, #e4e4e4);
		transition: background-color 0.2s ease;
	}

	:root.dark .form-switch-label {
		background-color: color-mix(
			in srgb,
			var(--neutral-dark),
			var(--neutral-light) 50%
		);
	}

	.form-switch-label::after {
		content: '';
		@apply absolute top-[calc(50%-0.625rem)] left-0.5 rounded-full;

		background-color: var(--neutral-contrasting-text, #242424);
		width: 1.25rem;
		height: 1.25rem;
		transition: transform 0.2s ease;
	}

	.dark .form-switch-label::after {
		background-color: var(--neutral-dark-contrasting-text, #fafafa);
	}

	.form-switch-input:checked + .form-switch-label {
		background-color: var(--component-active-color, var(--component-color));
	}

	.form-switch-input:checked + .form-switch-label::after {
		background-color: white;
		transform: translateX(1.5rem);
	}

	/* 
   * @component: form
   * @variant: search
   * @description: 検索用の入力フィールド。虫眼鏡アイコン付きで検索機能を視覚的に示します。
   * @category: form-controls
   * @example: <input type="search" class="form-input form-search theme-neutral" placeholder="検索...">
   */
	.form-search {
		color: inherit;
		background-position: 0.75rem center;
		background-repeat: no-repeat;
		background-size: 1rem 1rem;
		padding-left: 2.5rem;
		border-radius: var(--form-border-radius);
	}
}
